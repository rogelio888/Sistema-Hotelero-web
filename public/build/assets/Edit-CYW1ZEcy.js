import{r as l,h as k,c as i,a as t,d as N,e as c,s as n,v,p as D,b as V,t as A,i as g,m as f,w as I,x as S,q as C,o as d}from"./app-DWQ7THlv.js";import{u as M}from"./habitaciones-BXYPAQ8z.js";import{_ as x}from"./Button-AgtSY3Ng.js";/* empty css            */const H={class:"mb-6"},O={key:0,class:"bg-white rounded-lg shadow p-6 text-center"},B={key:1,class:"bg-white rounded-lg shadow p-6 max-w-3xl"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={class:"md:col-span-2"},$={key:0,class:"mt-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"},U={class:"mt-6 flex items-center justify-end space-x-3"},j={__name:"Edit",setup(q){const y=C(),m=S(),b=M(),o=l({numero:"",estado:"DISPONIBLE",descripcion:""}),u=l(!1),p=l(!0),r=l(null),w=async()=>{p.value=!0;try{const a=await b.fetchHabitacion(m.params.id);o.value={numero:a.numero,estado:a.estado,descripcion:a.descripcion||""}}catch{r.value="Error al cargar habitación"}finally{p.value=!1}},E=async()=>{u.value=!0,r.value=null;try{await b.updateHabitacion(m.params.id,o.value),y.push("/habitaciones")}catch(a){r.value=a.response?.data?.message||"Error al actualizar habitación"}finally{u.value=!1}};return k(()=>{w()}),(a,e)=>(d(),i("div",null,[t("div",H,[t("button",{onClick:e[0]||(e[0]=s=>a.$router.back()),class:"text-blue-600 hover:text-blue-800 mb-4"}," ← Volver "),e[5]||(e[5]=t("h1",{class:"text-3xl font-bold text-gray-800"},"Editar Habitación",-1)),e[6]||(e[6]=t("p",{class:"text-gray-600 mt-1"},"Actualiza la información de la habitación",-1))]),p.value?(d(),i("div",O,[...e[7]||(e[7]=[t("p",{class:"text-gray-500"},"Cargando...",-1)])])):(d(),i("div",B,[t("form",{onSubmit:I(E,["prevent"])},[t("div",R,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[n(" Número de Habitación "),t("span",{class:"text-red-500"},"*")],-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.numero=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[v,o.value.numero]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[n(" Estado "),t("span",{class:"text-red-500"},"*")],-1)),c(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.estado=s),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[...e[9]||(e[9]=[V('<option value="DISPONIBLE">Disponible</option><option value="OCUPADA">Ocupada</option><option value="RESERVADA">Reservada</option><option value="MANTENIMIENTO">Mantenimiento</option><option value="INACTIVA">Inactiva</option><option value="DEMOLIDA">Demolida</option>',6)])],512),[[D,o.value.estado]])]),t("div",T,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Descripción ",-1)),c(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.descripcion=s),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[v,o.value.descripcion]])])]),r.value?(d(),i("div",$,A(r.value),1)):N("",!0),t("div",U,[g(x,{type:"button",variant:"secondary",onClick:e[4]||(e[4]=s=>a.$router.back())},{default:f(()=>[...e[12]||(e[12]=[n(" Cancelar ",-1)])]),_:1}),g(x,{type:"submit",loading:u.value},{default:f(()=>[...e[13]||(e[13]=[n(" Actualizar Habitación ",-1)])]),_:1},8,["loading"])])],32)]))]))}};export{j as default};
