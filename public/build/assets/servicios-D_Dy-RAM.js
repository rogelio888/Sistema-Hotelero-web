import{z as o,j as a}from"./app-DWQ7THlv.js";const n=o("servicios",{state:()=>({servicios:[],servicioActual:null,loading:!1,error:null}),getters:{serviciosActivos:s=>s.servicios.filter(r=>r.estado==="ACTIVO"),serviciosDiarios:s=>s.servicios.filter(r=>r.frecuencia==="DIARIO")},actions:{async fetchServicios(s={}){this.loading=!0,this.error=null;try{const r=new URLSearchParams(s),e=await a.get(`/servicios?${r}`);e.data.success&&(this.servicios=e.data.data)}catch(r){throw this.error=r.response?.data?.message||"Error al cargar servicios",r}finally{this.loading=!1}},async fetchServicio(s){this.loading=!0,this.error=null;try{const r=await a.get(`/servicios/${s}`);if(r.data.success)return this.servicioActual=r.data.data,r.data.data}catch(r){throw this.error=r.response?.data?.message||"Error al cargar servicio",r}finally{this.loading=!1}},async createServicio(s){this.loading=!0,this.error=null;try{const r=await a.post("/servicios",s);if(r.data.success)return this.servicios.push(r.data.data),r.data}catch(r){throw this.error=r.response?.data?.message||"Error al crear servicio",r}finally{this.loading=!1}},async updateServicio(s,r){this.loading=!0,this.error=null;try{const e=await a.put(`/servicios/${s}`,r);if(e.data.success){const i=this.servicios.findIndex(t=>t.id===s);return i!==-1&&(this.servicios[i]=e.data.data),e.data}}catch(e){throw this.error=e.response?.data?.message||"Error al actualizar servicio",e}finally{this.loading=!1}},async deleteServicio(s){this.loading=!0,this.error=null;try{const r=await a.delete(`/servicios/${s}`);if(r.data.success)return this.servicios=this.servicios.filter(e=>e.id!==s),r.data}catch(r){throw this.error=r.response?.data?.message||"Error al eliminar servicio",r}finally{this.loading=!1}},async calcularPrecio(s,r){try{return(await a.post(`/servicios/${s}/calcular-precio`,r)).data}catch(e){throw e}}}});export{n as u};
