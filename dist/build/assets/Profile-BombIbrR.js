import{u as _,r as m,g as w,c as d,a as s,t as a,l as r,d as b,w as y,e as x,v as f,n as h,o as i}from"./app-DWQ7THlv.js";/* empty css            */const k={class:"container mx-auto px-4 py-8"},C={class:"max-w-4xl mx-auto"},A={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},z={class:"md:col-span-1"},U={class:"bg-white rounded-lg shadow p-6"},V={class:"flex flex-col items-center"},N={class:"h-24 w-24 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-3xl font-bold mb-4"},P={class:"text-xl font-semibold text-gray-800"},S={class:"text-gray-500 text-sm"},q={class:"w-full mt-6 border-t border-gray-100 pt-4"},B={class:"mb-3"},E={class:"text-gray-700"},H={class:"mb-3"},M={class:"text-gray-700"},j={key:0},D={class:"text-gray-700"},T={class:"md:col-span-2"},I={class:"bg-white rounded-lg shadow p-6"},L={class:"mb-4"},R={class:"mb-4"},$={class:"mb-6"},F={class:"flex items-center justify-end"},G=["disabled"],J={key:0},K={key:1},X={__name:"Profile",setup(O){const t=_(),u=m(!1),n=m(""),c=m("success"),o=m({current_password:"",password:"",password_confirmation:""}),g=w(()=>{const p=t.user?.nombre||"",e=t.user?.apellido||"";return(p.charAt(0)+e.charAt(0)).toUpperCase()}),v=async()=>{if(o.value.password!==o.value.password_confirmation){n.value="Las contraseñas no coinciden",c.value="error";return}u.value=!0,n.value="";try{await t.cambiarPassword(o.value),n.value="Contraseña actualizada correctamente",c.value="success",o.value={current_password:"",password:"",password_confirmation:""}}catch(p){n.value=p.response?.data?.message||"Error al actualizar la contraseña",c.value="error"}finally{u.value=!1}};return(p,e)=>(i(),d("div",k,[s("div",C,[e[10]||(e[10]=s("h1",{class:"text-2xl font-bold text-gray-800 mb-6"},"Mi Perfil",-1)),s("div",A,[s("div",z,[s("div",U,[s("div",V,[s("div",N,a(g.value),1),s("h2",P,a(r(t).user?.nombre)+" "+a(r(t).user?.apellido),1),s("p",S,a(r(t).userRole),1),s("div",q,[s("div",B,[e[3]||(e[3]=s("span",{class:"text-xs text-gray-400 uppercase block"},"Email",-1)),s("span",E,a(r(t).user?.email),1)]),s("div",H,[e[4]||(e[4]=s("span",{class:"text-xs text-gray-400 uppercase block"},"Usuario",-1)),s("span",M,a(r(t).user?.usuario),1)]),r(t).userHotel?(i(),d("div",j,[e[5]||(e[5]=s("span",{class:"text-xs text-gray-400 uppercase block"},"Hotel Asignado",-1)),s("span",D,a(r(t).userHotel.nombre),1)])):b("",!0)])])])]),s("div",T,[s("div",I,[e[9]||(e[9]=s("h3",{class:"text-lg font-medium text-gray-800 mb-4"},"Cambiar Contraseña",-1)),s("form",{onSubmit:y(v,["prevent"])},[s("div",L,[e[6]||(e[6]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"current_password"}," Contraseña Actual ",-1)),x(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.current_password=l),type:"password",id:"current_password",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:""},null,512),[[f,o.value.current_password]])]),s("div",R,[e[7]||(e[7]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Nueva Contraseña ",-1)),x(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.password=l),type:"password",id:"password",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:""},null,512),[[f,o.value.password]])]),s("div",$,[e[8]||(e[8]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password_confirmation"}," Confirmar Nueva Contraseña ",-1)),x(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.password_confirmation=l),type:"password",id:"password_confirmation",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:""},null,512),[[f,o.value.password_confirmation]])]),n.value?(i(),d("div",{key:0,class:h(`mb-4 p-3 rounded ${c.value==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`)},a(n.value),3)):b("",!0),s("div",F,[s("button",{type:"submit",class:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-150 ease-in-out",disabled:u.value},[u.value?(i(),d("span",J,"Actualizando...")):(i(),d("span",K,"Actualizar Contraseña"))],8,G)])],32)])])])])]))}};export{X as default};
