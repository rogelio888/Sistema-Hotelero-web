import{r as l,h as y,c as u,a as o,i as p,m as b,y as k,e as w,p as C,j as m,q as E,o as v,s as T,d as I,w as g}from"./index-CTzTmT_K.js";import{_ as N}from"./Table-fkUJsl3I.js";const V={class:"p-6"},$={class:"flex justify-between items-center mb-6"},B={class:"bg-white rounded-lg shadow p-4 mb-6"},D={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},j={class:"bg-white rounded-lg shadow overflow-hidden"},A={key:0,class:"flex items-center justify-end space-x-2"},M=["onClick"],F=["onClick"],P={__name:"Index",setup(O){const f=E(),n=l([]),r=l(!1),s=l({estado:""}),x=[{key:"id",label:"ID",sortable:!0},{key:"nombre",label:"Nombre",sortable:!0},{key:"descripcion",label:"DescripciÃ³n"},{key:"capacidad",label:"Capacidad",sortable:!0},{key:"precio_base",label:"Precio Base",sortable:!0,format:t=>`Bs. ${parseFloat(t).toFixed(2)}`},{key:"estado",label:"Estado",badge:!0}],i=async()=>{r.value=!0;try{const t={};s.value.estado&&(t.estado=s.value.estado);const e=await m.get("/tipo-habitaciones",{params:t});n.value=e.data.data}catch(t){console.error("Error al cargar tipos:",t),alert("Error al cargar los tipos de habitaciones")}finally{r.value=!1}},d=t=>{f.push(`/tipo-habitaciones/${t.id}/editar`)},c=async t=>{if(confirm(`Â¿EstÃ¡s seguro de eliminar el tipo "${t.nombre}"?`))try{await m.delete(`/tipo-habitaciones/${t.id}`),alert("Tipo eliminado exitosamente"),i()}catch(e){console.error("Error al eliminar tipo:",e),alert(e.response?.data?.message||"Error al eliminar el tipo")}};return y(()=>{i()}),(t,e)=>{const _=k("router-link");return v(),u("div",V,[o("div",$,[e[2]||(e[2]=o("h1",{class:"text-2xl font-bold text-gray-800"},"Tipos de Habitaciones",-1)),p(_,{to:"/tipo-habitaciones/crear",class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors"},{default:b(()=>[...e[1]||(e[1]=[T(" + Nuevo Tipo ",-1)])]),_:1})]),o("div",B,[o("div",D,[o("div",null,[e[4]||(e[4]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Estado",-1)),w(o("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.estado=a),onChange:i,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...e[3]||(e[3]=[o("option",{value:""},"Todos",-1),o("option",{value:"ACTIVO"},"Activo",-1),o("option",{value:"INACTIVO"},"Inactivo",-1)])],544),[[C,s.value.estado]])])])]),o("div",j,[p(N,{columns:x,data:n.value,loading:r.value,actions:!0,onEdit:d,onDelete:c},{actions:b(({item:a})=>[a?(v(),u("div",A,[o("button",{onClick:g(h=>d(a),["stop"]),class:"text-yellow-500 hover:text-yellow-600 p-1",title:"Editar"}," âœï¸ ",8,M),o("button",{onClick:g(h=>c(a),["stop"]),class:"text-red-500 hover:text-red-600 p-1",title:"Eliminar"}," ğŸ—‘ï¸ ",8,F)])):I("",!0)]),_:1},8,["data","loading"])])])}}};export{P as default};
