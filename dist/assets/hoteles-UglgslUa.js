import{z as l,j as s}from"./index-CTzTmT_K.js";const i=l("hoteles",{state:()=>({hoteles:[],hotelActual:null,loading:!1,error:null}),getters:{hotelesActivos:t=>t.hoteles.filter(e=>e.estado==="ACTIVO"),totalHoteles:t=>t.hoteles.length},actions:{async fetchHoteles(t={}){this.loading=!0,this.error=null;try{const e=new URLSearchParams(t),a=await s.get(`/hoteles?${e}`);a.data.success&&(this.hoteles=a.data.data)}catch(e){throw this.error=e.response?.data?.message||"Error al cargar hoteles",e}finally{this.loading=!1}},async fetchHotel(t){this.loading=!0,this.error=null;try{const e=await s.get(`/hoteles/${t}`);if(e.data.success)return this.hotelActual=e.data.data,e.data.data}catch(e){throw this.error=e.response?.data?.message||"Error al cargar hotel",e}finally{this.loading=!1}},async createHotel(t){this.loading=!0,this.error=null;try{const e=await s.post("/hoteles",t);if(e.data.success)return this.hoteles.push(e.data.data),e.data}catch(e){throw this.error=e.response?.data?.message||"Error al crear hotel",e}finally{this.loading=!1}},async updateHotel(t,e){this.loading=!0,this.error=null;try{const a=await s.put(`/hoteles/${t}`,e);if(a.data.success){const r=this.hoteles.findIndex(o=>o.id===t);return r!==-1&&(this.hoteles[r]=a.data.data),a.data}}catch(a){throw this.error=a.response?.data?.message||"Error al actualizar hotel",a}finally{this.loading=!1}},async deleteHotel(t){this.loading=!0,this.error=null;try{const e=await s.delete(`/hoteles/${t}`);if(e.data.success)return this.hoteles=this.hoteles.filter(a=>a.id!==t),e.data}catch(e){throw this.error=e.response?.data?.message||"Error al eliminar hotel",e}finally{this.loading=!1}},async fetchDashboard(t){try{return(await s.get(`/hoteles/${t}/dashboard`)).data.data}catch(e){throw e}}}});export{i as u};
