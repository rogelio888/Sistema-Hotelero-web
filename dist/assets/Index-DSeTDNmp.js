import{r as i,h as L,c as l,a as t,e as u,p as M,F as y,A as v,l as B,v as k,i as j,m as H,D as _,t as s,j as f,o as n,s as U,n as I}from"./index-CTzTmT_K.js";import{u as V}from"./hoteles-UglgslUa.js";import{_ as $}from"./Button-Dd-4xSWI.js";const G={class:"bg-white rounded-lg shadow p-6 mb-6"},z={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},q=["value"],J={class:"flex items-end"},K={class:"bg-white rounded-lg shadow mb-6"},Q={class:"border-b border-gray-200"},W={class:"flex space-x-8 px-6","aria-label":"Tabs"},X=["onClick"],Y={class:"bg-white rounded-lg shadow p-6 mb-6"},Z={key:0,class:"text-center py-8"},tt={key:1},et={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},st={class:"bg-blue-50 rounded-lg p-4"},ot={class:"text-3xl font-bold text-blue-600"},at={class:"bg-green-50 rounded-lg p-4"},lt={class:"text-3xl font-bold text-green-600"},nt={class:"bg-yellow-50 rounded-lg p-4"},rt={class:"text-3xl font-bold text-yellow-600"},dt={class:"bg-purple-50 rounded-lg p-4"},it={class:"text-2xl font-bold text-purple-600"},pt={class:"overflow-x-auto"},ct={class:"min-w-full divide-y divide-gray-200"},xt={class:"bg-white divide-y divide-gray-200"},ut={class:"px-6 py-4 whitespace-nowrap text-sm"},gt={class:"px-6 py-4 whitespace-nowrap text-sm"},mt={class:"px-6 py-4 whitespace-nowrap text-sm"},bt={class:"px-6 py-4 whitespace-nowrap text-sm"},yt={class:"px-6 py-4 whitespace-nowrap text-sm"},vt={class:"px-6 py-4 whitespace-nowrap text-sm"},_t={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600"},ft={class:"bg-white rounded-lg shadow p-6 mb-6"},ht={key:0,class:"text-center py-8"},wt={key:1},Rt={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},Ct={class:"bg-green-50 rounded-lg p-4"},Dt={class:"text-3xl font-bold text-green-600"},Tt={class:"bg-blue-50 rounded-lg p-4"},kt={class:"text-2xl font-bold text-blue-600"},It={class:"bg-purple-50 rounded-lg p-4"},Ot={class:"text-2xl font-bold text-purple-600"},St={class:"bg-indigo-50 rounded-lg p-4"},Et={class:"text-2xl font-bold text-indigo-600"},At={class:"p-6 bg-gradient-to-r from-green-500 to-green-600 rounded-lg text-white mb-6"},Ft={class:"text-4xl font-bold"},Nt={class:"overflow-x-auto"},Pt={class:"min-w-full divide-y divide-gray-200"},Lt={class:"bg-white divide-y divide-gray-200"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm"},jt={class:"px-6 py-4 whitespace-nowrap text-sm"},Ht={class:"px-6 py-4 whitespace-nowrap text-sm"},Ut={class:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs"},Vt={class:"px-6 py-4 whitespace-nowrap text-sm"},$t={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600"},Gt={class:"bg-white rounded-lg shadow p-6 mb-6"},zt={key:0,class:"text-center py-8"},qt={key:1},Jt={class:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6"},Kt={class:"bg-gray-50 rounded-lg p-4 text-center"},Qt={class:"text-3xl font-bold text-gray-800"},Wt={class:"bg-green-50 rounded-lg p-4 text-center"},Xt={class:"text-3xl font-bold text-green-600"},Yt={class:"text-xs text-gray-500 mt-1"},Zt={class:"bg-blue-50 rounded-lg p-4 text-center"},te={class:"text-3xl font-bold text-blue-600"},ee={class:"text-xs text-gray-500 mt-1"},se={class:"bg-yellow-50 rounded-lg p-4 text-center"},oe={class:"text-3xl font-bold text-yellow-600"},ae={class:"text-xs text-gray-500 mt-1"},le={class:"bg-orange-50 rounded-lg p-4 text-center"},ne={class:"text-3xl font-bold text-orange-600"},re={class:"text-xs text-gray-500 mt-1"},de={class:"p-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg text-white text-center"},ie={class:"text-6xl font-bold"},pe={class:"bg-white rounded-lg shadow p-6 mb-6"},ce={key:0,class:"text-center py-8"},xe={key:1,class:"space-y-6"},ue={class:"p-4 bg-gray-50 rounded-lg"},ge={class:"font-bold"},me={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},be={class:"bg-blue-50 rounded-lg p-6"},ye={class:"text-4xl font-bold text-blue-600"},ve={class:"bg-green-50 rounded-lg p-6"},_e={class:"text-2xl font-bold text-green-600"},fe={class:"bg-purple-50 rounded-lg p-6"},he={class:"text-2xl font-bold text-purple-600"},we={class:"bg-indigo-50 rounded-lg p-6"},Re={class:"text-4xl font-bold text-indigo-600"},Oe={__name:"Index",setup(Ce){const D=V(),g=i("reservas"),O=[{id:"reservas",nombre:"Reservas",icon:""},{id:"ingresos",nombre:"Ingresos",icon:""},{id:"ocupacion",nombre:"Ocupaci贸n",icon:""},{id:"consolidado",nombre:"Consolidado",icon:""}],d=i({id_hotel:"",fecha_inicio:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],fecha_fin:new Date(new Date().setDate(new Date().getDate()+1)).toISOString().split("T")[0]}),m=i(null),c=i(null),r=i(null),x=i(null),h=i(!1),w=i(!1),R=i(!1),C=i(!1),S=async()=>{h.value=!0;try{const a=new URLSearchParams(d.value),e=await f.get(`/reportes/reservas?${a}`);e.data.success&&(m.value=e.data)}catch(a){console.error("Error al cargar reporte de reservas:",a)}finally{h.value=!1}},E=async()=>{w.value=!0;try{const a=new URLSearchParams(d.value),e=await f.get(`/reportes/ingresos?${a}`);e.data.success&&(c.value=e.data)}catch(a){console.error("Error al cargar reporte de ingresos:",a)}finally{w.value=!1}},A=async()=>{R.value=!0;try{const a=new URLSearchParams({id_hotel:d.value.id_hotel}),e=await f.get(`/reportes/ocupacion?${a}`);e.data.success&&(r.value=e.data.data)}catch(a){console.error("Error al cargar reporte de ocupaci贸n:",a)}finally{R.value=!1}},F=async()=>{C.value=!0;try{const a=new URLSearchParams(d.value),e=await f.get(`/reportes/consolidado?${a}`);e.data.success&&(x.value=e.data)}catch(a){console.error("Error al cargar reporte consolidado:",a)}finally{C.value=!1}},T=()=>{S(),E(),A(),F()},N=a=>({PENDIENTE:"bg-yellow-100 text-yellow-800",CONFIRMADA:"bg-blue-100 text-blue-800",EN_PROCESO:"bg-green-100 text-green-800",COMPLETADA:"bg-gray-100 text-gray-800",CANCELADA:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",b=a=>a?new Date(a).toLocaleDateString("es-BO",{day:"2-digit",month:"long",year:"numeric"}):"",P=a=>a?new Date(a).toLocaleString("es-BO",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",p=a=>new Intl.NumberFormat("es-BO",{style:"currency",currency:"BOB"}).format(a);return L(()=>{D.fetchHoteles(),T()}),(a,e)=>(n(),l("div",null,[e[39]||(e[39]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold text-gray-800"},"Reportes"),t("p",{class:"text-gray-600 mt-1"},"Consulta estad铆sticas e informes del sistema")],-1)),t("div",G,[e[8]||(e[8]=t("h3",{class:"font-bold text-lg mb-4"},"Filtros",-1)),t("div",z,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Hotel",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>d.value.id_hotel=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[e[3]||(e[3]=t("option",{value:""},"Todos los hoteles",-1)),(n(!0),l(y,null,v(B(D).hoteles,o=>(n(),l("option",{key:o.id,value:o.id},s(o.nombre),9,q))),128))],512),[[M,d.value.id_hotel]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha Inicio",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.value.fecha_inicio=o),type:"date",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[k,d.value.fecha_inicio]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha Fin",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>d.value.fecha_fin=o),type:"date",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[k,d.value.fecha_fin]])]),t("div",J,[j($,{onClick:T,class:"w-full"},{default:H(()=>[...e[7]||(e[7]=[U("  Generar Reportes ",-1)])]),_:1})])])]),t("div",K,[t("div",Q,[t("nav",W,[(n(),l(y,null,v(O,o=>t("button",{key:o.id,onClick:De=>g.value=o.id,class:I(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",g.value===o.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},s(o.icon)+" "+s(o.nombre),11,X)),64))])])]),t("div",null,[u(t("div",null,[t("div",Y,[e[15]||(e[15]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"}," Reporte de Reservas",-1)),h.value?(n(),l("div",Z,[...e[9]||(e[9]=[t("p",{class:"text-gray-500"},"Cargando...",-1)])])):(n(),l("div",tt,[t("div",et,[t("div",st,[e[10]||(e[10]=t("p",{class:"text-sm text-gray-600 mb-1"},"Total Reservas",-1)),t("p",ot,s(m.value?.totales?.total_reservas||0),1)]),t("div",at,[e[11]||(e[11]=t("p",{class:"text-sm text-gray-600 mb-1"},"Adultos",-1)),t("p",lt,s(m.value?.totales?.adultos||0),1)]),t("div",nt,[e[12]||(e[12]=t("p",{class:"text-sm text-gray-600 mb-1"},"Ni帽os",-1)),t("p",rt,s(m.value?.totales?.ninos||0),1)]),t("div",dt,[e[13]||(e[13]=t("p",{class:"text-sm text-gray-600 mb-1"},"Ingresos",-1)),t("p",it,s(p(m.value?.totales?.total_ingresos||0)),1)])]),t("div",pt,[t("table",ct,[e[14]||(e[14]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ID"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Hu茅sped"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Hotel"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Entrada"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Salida"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Estado"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Total")])],-1)),t("tbody",xt,[(n(!0),l(y,null,v(m.value?.data,o=>(n(),l("tr",{key:o.id},[t("td",ut,s(o.id),1),t("td",gt,s(o.huesped?.nombre)+" "+s(o.huesped?.apellido),1),t("td",mt,s(o.hotel?.nombre),1),t("td",bt,s(b(o.fecha_entrada)),1),t("td",yt,s(b(o.fecha_salida)),1),t("td",vt,[t("span",{class:I(["px-2 py-1 rounded-full text-xs",N(o.estado)])},s(o.estado),3)]),t("td",_t,s(p(o.total)),1)]))),128))])])])]))])],512),[[_,g.value==="reservas"]]),u(t("div",null,[t("div",ft,[e[23]||(e[23]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"}," Reporte de Ingresos",-1)),w.value?(n(),l("div",ht,[...e[16]||(e[16]=[t("p",{class:"text-gray-500"},"Cargando...",-1)])])):(n(),l("div",wt,[t("div",Rt,[t("div",Ct,[e[17]||(e[17]=t("p",{class:"text-sm text-gray-600 mb-1"},"Total Pagos",-1)),t("p",Dt,s(c.value?.totales?.total_pagos||0),1)]),t("div",Tt,[e[18]||(e[18]=t("p",{class:"text-sm text-gray-600 mb-1"},"Efectivo",-1)),t("p",kt,s(p(c.value?.totales?.total_efectivo||0)),1)]),t("div",It,[e[19]||(e[19]=t("p",{class:"text-sm text-gray-600 mb-1"},"Tarjeta",-1)),t("p",Ot,s(p(c.value?.totales?.total_tarjeta||0)),1)]),t("div",St,[e[20]||(e[20]=t("p",{class:"text-sm text-gray-600 mb-1"},"Transferencia",-1)),t("p",Et,s(p(c.value?.totales?.total_transferencia||0)),1)])]),t("div",At,[e[21]||(e[21]=t("p",{class:"text-sm opacity-90 mb-1"},"Total General de Ingresos",-1)),t("p",Ft,s(p(c.value?.totales?.total_general||0)),1)]),t("div",Nt,[t("table",Pt,[e[22]||(e[22]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ID Pago"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reserva"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Hotel"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tipo"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Fecha"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Monto")])],-1)),t("tbody",Lt,[(n(!0),l(y,null,v(c.value?.data,o=>(n(),l("tr",{key:o.id},[t("td",Mt,s(o.id),1),t("td",Bt,"Reserva #"+s(o.reserva?.id),1),t("td",jt,s(o.reserva?.hotel?.nombre),1),t("td",Ht,[t("span",Ut,s(o.tipo_pago),1)]),t("td",Vt,s(P(o.fecha)),1),t("td",$t,s(p(o.monto)),1)]))),128))])])])]))])],512),[[_,g.value==="ingresos"]]),u(t("div",null,[t("div",Gt,[e[31]||(e[31]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"}," Reporte de Ocupaci贸n",-1)),R.value?(n(),l("div",zt,[...e[24]||(e[24]=[t("p",{class:"text-gray-500"},"Cargando...",-1)])])):(n(),l("div",qt,[t("div",Jt,[t("div",Kt,[e[25]||(e[25]=t("p",{class:"text-sm text-gray-600 mb-2"},"Total Habitaciones",-1)),t("p",Qt,s(r.value?.total_habitaciones||0),1)]),t("div",Wt,[e[26]||(e[26]=t("p",{class:"text-sm text-gray-600 mb-2"},"Disponibles",-1)),t("p",Xt,s(r.value?.disponibles||0),1),t("p",Yt,s(r.value?.porcentajes?.disponibles||0)+"%",1)]),t("div",Zt,[e[27]||(e[27]=t("p",{class:"text-sm text-gray-600 mb-2"},"Ocupadas",-1)),t("p",te,s(r.value?.ocupadas||0),1),t("p",ee,s(r.value?.porcentajes?.ocupadas||0)+"%",1)]),t("div",se,[e[28]||(e[28]=t("p",{class:"text-sm text-gray-600 mb-2"},"Reservadas",-1)),t("p",oe,s(r.value?.reservadas||0),1),t("p",ae,s(r.value?.porcentajes?.reservadas||0)+"%",1)]),t("div",le,[e[29]||(e[29]=t("p",{class:"text-sm text-gray-600 mb-2"},"Mantenimiento",-1)),t("p",ne,s(r.value?.mantenimiento||0),1),t("p",re,s(r.value?.porcentajes?.mantenimiento||0)+"%",1)])]),t("div",de,[e[30]||(e[30]=t("p",{class:"text-lg opacity-90 mb-2"},"Tasa de Ocupaci贸n",-1)),t("p",ie,s(r.value?.tasa_ocupacion||0)+"%",1)])]))])],512),[[_,g.value==="ocupacion"]]),u(t("div",null,[t("div",pe,[e[38]||(e[38]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"}," Reporte Consolidado",-1)),C.value?(n(),l("div",ce,[...e[32]||(e[32]=[t("p",{class:"text-gray-500"},"Cargando...",-1)])])):(n(),l("div",xe,[t("div",ue,[e[33]||(e[33]=t("p",{class:"text-sm text-gray-600"},"Per铆odo del Reporte",-1)),t("p",ge,s(b(x.value?.periodo?.fecha_inicio))+" - "+s(b(x.value?.periodo?.fecha_fin)),1)]),t("div",me,[t("div",be,[e[34]||(e[34]=t("p",{class:"text-sm text-gray-600 mb-2"},"Total Reservas",-1)),t("p",ye,s(x.value?.data?.reservas||0),1)]),t("div",ve,[e[35]||(e[35]=t("p",{class:"text-sm text-gray-600 mb-2"},"Ingresos Totales",-1)),t("p",_e,s(p(x.value?.data?.ingresos_totales||0)),1)]),t("div",fe,[e[36]||(e[36]=t("p",{class:"text-sm text-gray-600 mb-2"},"Consumos",-1)),t("p",he,s(p(x.value?.data?.ingresos_consumos||0)),1)]),t("div",we,[e[37]||(e[37]=t("p",{class:"text-sm text-gray-600 mb-2"},"Tasa Ocupaci贸n",-1)),t("p",Re,s(x.value?.data?.tasa_ocupacion||0)+"%",1)])])]))])],512),[[_,g.value==="consolidado"]])])]))}};export{Oe as default};
