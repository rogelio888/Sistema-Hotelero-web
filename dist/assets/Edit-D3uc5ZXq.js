import{x,r as p,h as y,c as f,a as t,i as g,m as w,y as V,e as l,v as i,p as k,t as T,w as C,j as b,q as I,o as A,s as E}from"./index-CTzTmT_K.js";const N={class:"p-6"},U={class:"flex justify-between items-center mb-6"},q={class:"flex items-center space-x-4 mt-4"},z=["disabled"],D={__name:"Edit",setup(B){const n=I(),d=x().params.id,s=p(!1),a=p({nombre:"",descripcion:"",capacidad:1,precio_base:0,estado:"ACTIVO"}),c=()=>{u()},u=async()=>{s.value=!0;try{const e=(await b.get(`/tipo-habitaciones/${d}`)).data.data;a.value={nombre:e.nombre||"",descripcion:e.descripcion||"",capacidad:e.capacidad||1,precio_base:e.precio_base||0,estado:e.estado||"ACTIVO"}}catch(r){console.error(r),alert("Error al cargar el tipo de habitación"),n.push("/tipo-habitaciones")}finally{s.value=!1}},m=async()=>{s.value=!0;try{await b.put(`/tipo-habitaciones/${d}`,a.value),alert("Tipo de habitación actualizado exitosamente"),n.push("/tipo-habitaciones")}catch(r){console.error(r),alert(r.response?.data?.message||"Error al actualizar")}finally{s.value=!1}};return y(()=>{u()}),(r,e)=>{const v=V("router-link");return A(),f("div",N,[t("div",U,[e[6]||(e[6]=t("h1",{class:"text-2xl font-bold text-gray-800"},"Editar Tipo de Habitación",-1)),g(v,{to:"/tipo-habitaciones",class:"text-blue-600 hover:underline"},{default:w(()=>[...e[5]||(e[5]=[E(" ← Volver al listado ",-1)])]),_:1})]),t("form",{onSubmit:C(m,["prevent"]),class:"space-y-4 max-w-lg"},[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre",-1)),l(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.nombre=o),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[i,a.value.nombre]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Descripción",-1)),l(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.descripcion=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[i,a.value.descripcion]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Capacidad",-1)),l(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.capacidad=o),type:"number",min:"1",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[i,a.value.capacidad,void 0,{number:!0}]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Precio Base",-1)),l(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.precio_base=o),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[i,a.value.precio_base,void 0,{number:!0}]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Estado",-1)),l(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.estado=o),class:"w-full px-3 py-2 border border-gray-300 rounded"},[...e[11]||(e[11]=[t("option",{value:"ACTIVO"},"Activo",-1),t("option",{value:"INACTIVO"},"Inactivo",-1)])],512),[[k,a.value.estado]])]),t("div",q,[t("button",{type:"submit",disabled:s.value,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50"},T(s.value?"Guardando...":"Actualizar"),9,z),t("button",{type:"button",onClick:c,class:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded"}," Resetear ")])],32)])}}};export{D as default};
